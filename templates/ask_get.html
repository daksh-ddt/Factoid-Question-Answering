<!DOCTYPE html>
<html lang="en">
  
  <head>
    <meta charset="utf-8">
    <title>
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Le styles -->
    <link href="../static/css/bootstrap.css" rel="stylesheet">
    <link href="../static/css/ask_get.css" rel="stylesheet">
    <style>
      body { padding-top: 60px; /* 60px to make the container go all the way
      to the bottom of the topbar */ }
    </style>
    <link href="../static/css/bootstrap-responsive.css" rel="stylesheet">
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js">
      </script>
    <![endif]-->
    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="../static/ico/favicon.ico">
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../static/ico/apple-touch-icon-144-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../static/ico/apple-touch-icon-114-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../static/ico/apple-touch-icon-72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" href="../static/ico/apple-touch-icon-57-precomposed.png">
    <style>
    </style>
  </head>
  <body>
    <div class="control-group">
    </div>
    <div class="container-fluid">
      <h1>
        <div style="text-align: center;">
          Ask
        </div>
      </h1>
      <form name="ajax-form" id="ajax-form" action="/" method="post">
          <input name="textinput1" type="text" class="search" name="question" placeholder="a question" id="question"></input>
          <button id="send">Submit</button>
          <div class="error" id="err-form">There was a problem validating the form please check!</div>
          <div class="error" id="err-timedout">The connection to the server timed out!</div>
          <div class="error" id="err-state"></div>
      </form>
      <div id="ajaxsuccess"><h2>Successfully sent!!</h2></div>
    </div>

    <style>
      .container-fluid {
       text-align: center;
      }
    </style>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js">
    </script>
    <script src="../static/js/bootstrap.js">
    </script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.min.js"></script>
    <script type="text/javascript">

    jQuery(document).ready(function ($) { // wait until the document is ready
        $('#send').click(function(){ // when the button is clicked the code executes
            $('.error').fadeOut('slow'); // reset the error messages (hides them)

              var data_string = $('#ajax-form').serialize(); // Collect data from form

              $.ajax({
                  type: "POST",
                  url: $('#ajax-form').attr('action'),
                  data: data_string,
                  timeout: 6000,
                  error: function(request,error) {
                      if (error == "timeout") {
                          $('#err-timedout').slideDown('slow');
                      }
                      else {
                          $('#err-state').slideDown('slow');
                          $("#err-state").html('An error occurred: ' + error + '');
                      }
                  },
                  success: function() {
                      $('#ajax-form').slideUp('slow');
                      $('#ajaxsuccess').slideDown('slow');
                  }
              });
              return false; // stops user browser being directed to the php file
          }); // end click function
      });

    </script>
  </body>
</html>
